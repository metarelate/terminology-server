<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta content="text/html; charset=ISO-8859-1"
      http-equiv="Content-Type">
    <title>Guide To Configuration Files</title>
  </head>
  <body>
    <h1>Guide to Configuration Files</h1>
    <p>The metMap command, which is used both to <a
        href="../HOWTO/HOW-TO_make_a_mapping.html">generate mappings</a>
      and to <a href="../HOWTO/HOW-TO_publish_a_terminology_model.html">generate
        a web representation</a> of code tables, accepts a variety of
      configuration options.<br>
      Configuration can be specified in an arbitrary amount of files:
      the system consider all the input as a single RDF graph, from
      which it extracts configuration options or code information as it
      needs it. Some configuration feature (e.g. prefixes)can be also
      specified via the command line options (refer to the relevant
      HOW-TOs for more details).<br>
    </p>
    <p>In this guide, we illustrate the constructs that can be specified
      to configure the system. It should be noted that the specific
      properties and classes used to describe code features (e.g.:
      version, author properties) or system related entities (e.g.
      actions, version graphs) are currently hard-coded in static config
      files.<br>
    </p>
    <h2>Deployment <br>
    </h2>
    <h3>Server configuration<br>
    </h3>
    <p>Configuration option that are relative to the deployment of the
      terminology model on a server.<br>
      Example configuration:<br>
    </p>
    <pre>@prefix metaMap: &nbsp;&nbsp;&nbsp; &lt;http://reference.metoffice.gov.uk/data/wmo/meta/mapping#&gt; .<br><br>[] a metaMap:publisherSpecs;<br>&nbsp;&nbsp;&nbsp; metaMap:sitePrefix&nbsp;&nbsp;&nbsp; "http://reference.metoffice.gov.uk/data/wmo/tdcf";<br>&nbsp;&nbsp;&nbsp; metaMap:diskPrefix&nbsp;&nbsp;&nbsp; "/vaw/www/html/data/wmo/tdcf";<br>&nbsp;&nbsp;&nbsp; metaMap:baseURL&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; "http://reference.metoffice.gov.uk/data/wmo/tdcf";<br>&nbsp;&nbsp;&nbsp; .</pre>
    <p>Explanation:<br>
    </p>
    metaMap:diskPrefix&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp; The base directory where files have to be
    generated (needed for publication).<br>
    metaMap:sitePrefix&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; The base URL for the
    generated URLs (note that in principle codes can have distinct URIs
    and URLs). &nbsp; <br>
    metaMap:baseURL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; Same as the above (currently both
    properties need to be specified. This is subject to change in a next
    version).<br>
    Note how the above configurations are specified as a properties of a
    blank node (any node, and even distinct nodes, would work).<br>
    <h3>Override directives</h3>
    <p>The override directive is used to assign a given URL to an
      entity, which overrides the URL that would be generated by the
      system. This configuration is useful when a large Terminology
      Model specification is broken in more files, and some of these
      files may be relative to a subtree of the terminology model (hence
      not having a direct knowledge of the upstream model). This
      directive is used when constructing a terminology model.<br>
    </p>
    <p>Example:<br>
    </p>
    <pre>@prefix metaMap: &nbsp;&nbsp;&nbsp; &lt;http://reference.metoffice.gov.uk/data/wmo/meta/mapping#&gt; .
<br>&lt;http://reference.metoffice.gov.uk/data/wmo/tdcf/grib/codes+flags&gt; metaMap:overridesDiskPrefix "/var/www/html/data/wmo/tdcf/grib/codes+flags";<br>metaMap:overrideSitePrefix "http://reference.metoffice.gov.uk/data/wmo/tdcf/grib/codes+flags";<br>.<br><br></pre>
    <p>Explanation:<br>
      For the entity&nbsp;
      &lt;http://reference.metoffice.gov.uk/data/wmo/tdcf/grib/codes+flags&gt;
      the values of the properties <i>metaMap:overridesDiskPrefix</i>
      and<i> metaMap:overrideSitePrefix</i> is assigned the specified
      values.</p>
    <h2>Reasoning</h2>
    <p>Directives to the reasoner are (currently) specified via
      predicated on the affected properties. Two directives are
      currently implemented: symmetric and generates.<br>
    </p>
    <h3>Symmetric</h3>
    <p>When two properties are asserted as symmetric, the terminology
      RDF is complemented with the inverse assertion. If P1 and P2 are
      symmetric, and the statement x P1 y is present in the terminology
      representation in RDF, the additional statement y P2 x is added.<br>
    </p>
    <p>Example:<br>
    </p>
    <pre>@prefix metaMap: &nbsp;&nbsp;&nbsp; &lt;http://reference.metoffice.gov.uk/data/wmo/meta/mapping#&gt; .</pre>
    <pre>skos:narrower metaMap:symmetric skos:broader;<br>.</pre>
    <h3>Generates</h3>
    <p>Generates command the production of an extra statement. If the
      property P1 is specified to generate P2, whenever the statement x
      P1 y is found in the terminology RDF, x P2 y is added to it.<br>
    </p>
    <p></p>
    <pre>@prefix metaMap: &nbsp;&nbsp;&nbsp; &lt;http://reference.metoffice.gov.uk/data/wmo/meta/mapping#&gt; .</pre>
    <pre>skos:prefLabel metaMap:generates rdfs:label;<br>.</pre>
    <h2>Annotations</h2>
    <p>Properties whose subject is a concept (i.e.: that refer to the
      conceptual nature of their subject, that may be a code) can be
      specified as follows:<br>
    </p>
    <pre>@prefix metModel:&nbsp;&nbsp;&nbsp; &lt;http://reference.metoffice.gov.uk/data/wmo/meta/model#&gt; .<br>skos:narrower 	metModel:propertyFocus metModel:conceptRelatedProperty;<br>.</pre>
    <h2>Labels and extra statements</h2>
    <p>As all inputs appear as a single RDF graph to the system, some
      configuration files can be used to store invariant attributes
      (e.g. property labels), or extra codes to be added to the system,
      or even static meta configuration elements (e.g.: pragma blocks).
      A few examples will follow:<br>
    </p>
    <h3>Labels</h3>
    <p>Labels for properties are not part of the information managed by
      the terminology manager, but rather "decorators" for it. They can
      be stated in configuration files where the names for properties in
      different languages are listed:<br>
    </p>
    <pre>wmo:status&nbsp;&nbsp;&nbsp; rdfs:label &nbsp;&nbsp; "status (wmo)"@en;<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; rdfs:label&nbsp;&nbsp;&nbsp; "stato (wmo)"@it;<br>.<br></pre>
    <h3>Extra code</h3>
    <p>In a scenario where codes are generated from tables, but a few
      extra codes needs to be added, these can be held in a
      configuration file. This can be a useful way to arrange
      configuration files, though these extra codes are not
      "configuration" parameters, but actual content for the Terminology
      Model.<br>
    </p>
    <pre>&lt;http://reference.metoffice.gov.uk/data/wmo/tdcf/common/x-regions/Region5&gt;&nbsp;&nbsp; &nbsp;a&nbsp;&nbsp; &nbsp;skos:Concept;<br>&nbsp;&nbsp; &nbsp;a                   wmo:Region;<br>&nbsp;&nbsp; &nbsp;a                   metaMap:TerminologyIndividual;<br>&nbsp;&nbsp; &nbsp;skos:prefLabel      "Region V"@en;<br>&nbsp;&nbsp; &nbsp;skos:description    "Region V as defined by WMO";<br>&nbsp;&nbsp; &nbsp;metaMap:containedIn common:x-regions;<br>&nbsp;&nbsp; &nbsp;.</pre>
    <h3>Pragma</h3>
    Some pragmatic operations can have default configurations that are
    used in multiple mapping actions. They can then be defined in
    configuration files and referred to in mappings.
    <pre>map:canonicalExpandDashSuppress a metaMap:expandDashAndSuppress;<br>&nbsp;&nbsp;&nbsp; metaMap:pragmaProp&nbsp;&nbsp;&nbsp; metaMap:pragmaSuppressSource;<br>&nbsp;&nbsp;&nbsp; metaMap:overrideProp&nbsp; wmo:codeFigure;<br>&nbsp;&nbsp;&nbsp; metaMap:overrideProp&nbsp; skos:notation;<br>&nbsp;&nbsp;&nbsp; #Add to avoid proliferation of reserved codes!<br>&nbsp;&nbsp;&nbsp; metaMap:hardLimit&nbsp;&nbsp;&nbsp; "20";&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; metaMap:pragmaProp&nbsp;&nbsp;&nbsp; metaMap:HardLimitCut;<br>&nbsp;&nbsp;&nbsp; .&nbsp;&nbsp;&nbsp; </pre>
    <p></p>
    <p><br>
    </p>
    <p></p>
    <p></p>
  </body>
</html>
